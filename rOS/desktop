os.pullEvent = os.pullEventRaw

function drawTaskbar()
  paintutils.drawLine(1, 19, 51, 19, colors.cyan)
  paintutils.drawPixel(1, 19, colors.blue)
end

function drawStartMenu()
  sm = paintutils.loadImage("rPaints/startMenu")
  paintutils.drawImage(sm, 1, 1)
  term.setCursorPos(1, 18)
  write("Shutdown")
  term.setCursorPos(1, 17)
  write("Reboot")
  term.setCursorPos(1, 16)
  write("Install")
end

term.setTextColor(colors.black)
term.setBackgroundColor(colors.lightBlue)
term.clear()
term.setCursorPos(1,1)

drawTaskbar()

 
event, button, x, y = os.pullEvent("mouse_click")
  
if button == 1 and x == 1 and y == 19 then
  drawStartMenu()
  sleep(0.1)
    
  event, button, x, y = os.pullEvent("mouse_click")
      
  if x >= 1 and x <= 8 and y == 18 then
    os.shutdown()
  elseif x >= 1 and x <= 6 and y == 17 then
    os.reboot()
  else
    shell.run("rOS/desktop")
   end
else
  shell.run("rOS/desktop")
end

