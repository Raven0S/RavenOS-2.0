os.pullEvent = os.pullEventRaw

function drawTaskbar()
  paintutils.drawLine(1, 19, 51, 19, colors.cyan)
  paintutils.drawPixel(1, 19, colors.blue)
end

term.setTextColor(colors.black)
term.setBackgroundColor(colors.lightGray)
term.clear()
term.setCursorPos(1,1)

drawTaskbar()

while true do 
  event, button, x, y = os.pullEvent("mouse_click")
  
  if button == 1 and x == 1 and y == 19 then
    break
    paintutils.drawBox(1, 18, 10, 9, colors.white)
    term.setCursorPos(1, 18)
    write("Shutdown")
    sleep(0.1)
    
    while true do 
      event, button, x, y = os.pullEvent(mouse_click)
      
      if x == 1 and y == 18 then
        os.shutdown()
      else
        shell.run("rOS/desktop")
      end
    end
  end
end
